# üöÄ –ë—ã—Å—Ç—Ä–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

## üìã –®–∞–≥ 1: –ù–∞–π–¥–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```bash
cd backend
cat .env | grep DATABASE_URL
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
DATABASE_URL=postgresql+asyncpg://postgres:password@localhost:5432/edinorok
```

**–†–∞–∑–±–æ—Ä:**
- **USERNAME:** `postgres`
- **PASSWORD:** `password`
- **HOST:** `localhost`
- **PORT:** `5432`
- **DATABASE:** `edinorok`

---

## üîå –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ –ë–î

```bash
psql -U postgres -d edinorok
# –í–≤–µ–¥–∏ –ø–∞—Ä–æ–ª—å –∫–æ–≥–¥–∞ –ø–æ–ø—Ä–æ—Å–∏—Ç
```

–ò–ª–∏ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π:
```bash
psql "postgresql://postgres:password@localhost:5432/edinorok"
```

---

## ‚úÖ –®–∞–≥ 3: –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞)

```bash
cd backend
source venv/bin/activate
python -m scripts.check_database
```

**–°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç:**
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä—Ç–∏—Å—Ç–æ–≤
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä—Ç–∏—Å—Ç–æ–≤ —Å embeddings
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Å–µ–Ω
- ‚úÖ –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

---

## üîç –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å –¥–∞–Ω–Ω—ã–µ –≤—Ä—É—á–Ω—É—é (SQL)

```sql
-- –ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ –ë–î
psql -U postgres -d edinorok

-- –ü—Ä–æ–≤–µ—Ä—å –∞—Ä—Ç–∏—Å—Ç–æ–≤
SELECT COUNT(*) FROM artist_profiles;
SELECT COUNT(*) FROM artist_profiles WHERE voice_embedding IS NOT NULL;

-- –ü—Ä–æ–≤–µ—Ä—å –ø–µ—Å–Ω–∏
SELECT COUNT(*) FROM songs;

-- –í—ã–π–¥–∏
\q
```

---

## üîß –®–∞–≥ 5: –ï—Å–ª–∏ –±–∞–∑–∞ –ø—É—Å—Ç–∞—è - –∑–∞–ø–æ–ª–Ω–∏

```bash
cd backend
source venv/bin/activate

# 1. –û–±—Ä–∞–±–æ—Ç–∞–π –∞—Ä—Ç–∏—Å—Ç–æ–≤
python -m scripts.process_artists

# 2. –î–æ–±–∞–≤—å embeddings (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)
python -m scripts.add_embeddings

# 3. –û–±—Ä–∞–±–æ—Ç–∞–π –ø–µ—Å–Ω–∏
python -m scripts.process_songs
```

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–∑—ã:
- ‚úÖ –ê—Ä—Ç–∏—Å—Ç–æ–≤: > 0
- ‚úÖ –ê—Ä—Ç–∏—Å—Ç–æ–≤ —Å embeddings: > 0
- ‚úÖ –ü–µ—Å–µ–Ω: > 0

**–ü—Ä–æ–≤–µ—Ä—å:**
```bash
python -m scripts.check_database
```

---

## üö® –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### "password authentication failed"
‚Üí –ü—Ä–æ–≤–µ—Ä—å –ø–∞—Ä–æ–ª—å –≤ `.env` —Ñ–∞–π–ª–µ

### "database does not exist"
‚Üí –°–æ–∑–¥–∞–π –±–∞–∑—É: `psql -U postgres -c "CREATE DATABASE edinorok;"`

### "connection refused"
‚Üí –ó–∞–ø—É—Å—Ç–∏ PostgreSQL:
```bash
# macOS
brew services start postgresql

# Linux
sudo systemctl start postgresql
```

---

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** –°–º. `–ò–ù–°–¢–†–£–ö–¶–ò–Ø_–ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï_–ö_–ë–î.md`
